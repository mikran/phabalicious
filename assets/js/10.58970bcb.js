(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{363:function(t,a,s){"use strict";s.r(a);var e=s(42),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"scaffolding-a-new-app"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#scaffolding-a-new-app"}},[t._v("#")]),t._v(" Scaffolding a new app")]),t._v(" "),s("p",[t._v("Phabalicious has a simple but powerful scaffold-command. It will read a yml-file and interpret the contents. It will use the existing pattern-replacement used for scripts and twig for changing file-contents. The scaffolding and fixture-files can live on a remote server or on your file-system.")]),t._v(" "),s("p",[t._v("Here's an example of a scaffold-file:")]),t._v(" "),s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("questions")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("question")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"The Name of this project"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("shortName")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("question")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"The short-name of this project"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("validation")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/^[A-Za-z0-9]{3,5}$/"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("error")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"The shortname may consist of 3 to 5 letters (A-Z) or digits (0-9)"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Questions can have a default:")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("default")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SP"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("transform")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" lowercase\n\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("variables")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("composerProject")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" drupal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("composer/drupal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("project"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("8.x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("dev\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("webRoot")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" web\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("allowOverride")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Setting it to 1 will not show a warning if the target folder exists.")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("skipSubfolder")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Setting it to 1 will instruct phabalicious to not create a subfolder.")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("assets")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" .fabfile.yaml\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" docker"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("compose.yml\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" docker"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("compose"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("mbb.yml\n\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("deployModuleAssets")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" deployModule/%shortName%_deploy.info.yml\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" deployModule/%shortName%_deploy.module\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" deployModule/%shortName%_deploy.install\n\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("scaffold")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" rm "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("rf %rootFolder%\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" composer create"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("project %composerProject% %rootFolder% "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("stability dev "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("no"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("interaction\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" cd %rootFolder%; composer require drupal/coffee\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" cd %rootFolder%; composer require drupal/devel\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" copy_assets(%rootFolder%)\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" copy_assets(%rootFolder%/%webRoot%/modules/custom/%shortName%_deploy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" deployModuleAssets)\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" cd %rootFolder%; git init .\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" cd %rootFolder%; git add .\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" cd %rootFolder%; git commit "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v('m "Initial commit by phabalicious"\n')])])]),s("p",[t._v("The fabfile needs at least the "),s("code",[t._v("questions")]),t._v("and the "),s("code",[t._v("scaffold")]),t._v("-section. The "),s("code",[t._v("scaffold")]),t._v("-section is a list of commands, executed by phabalicious one by one. It will use the pattern-replacement known for scripts.")]),t._v(" "),s("h2",{attrs:{id:"the-questions-section"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#the-questions-section"}},[t._v("#")]),t._v(" The "),s("code",[t._v("questions")]),t._v("-section")]),t._v(" "),s("p",[t._v("This section contains a list of questions to be asked when running the scaffold-command. The yaml-key will get the value inputted by the user and can be used as a replacement pattern or in twig-templates. Answers can be validated against a regex and/or transformed to lower- or uppercase.")]),t._v(" "),s("p",[t._v("The following question-types are supported:")]),t._v(" "),s("h3",{attrs:{id:"question"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#question"}},[t._v("#")]),t._v(" "),s("code",[t._v("question")])]),t._v(" "),s("p",[t._v("A regular question, with optional default, validation and/ or autocomplete values")]),t._v(" "),s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("question")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" the prompot to show \n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" question\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("validation")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" the regex to use to validate the input\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("error")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" the message to display"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" if the validation fails\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("default")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" the default"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" when the user hits return\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("transform")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("lowercase"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("uppercase"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("autocomplete")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" Option 1\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" Option 2 \n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" Option 3\n")])])]),s("h3",{attrs:{id:"array"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#array"}},[t._v("#")]),t._v(" "),s("code",[t._v("array")])]),t._v(" "),s("p",[t._v("A question, where the use can supply multiple values. The question gets repeated until the user provides an empty answer. For possible options see "),s("code",[t._v("question")]),t._v(".")]),t._v(" "),s("h3",{attrs:{id:"confirm"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#confirm"}},[t._v("#")]),t._v(" "),s("code",[t._v("confirm")])]),t._v(" "),s("p",[t._v("A question which can be answered with yes or no. The value will be "),s("code",[t._v("1")]),t._v(" or "),s("code",[t._v("0")]),t._v(". The default value can be "),s("code",[t._v("true")]),t._v(" or "),s("code",[t._v("false")]),t._v(".")]),t._v(" "),s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("question")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Should we continue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("?")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" confirm\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("default")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n")])])]),s("h3",{attrs:{id:"choices"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#choices"}},[t._v("#")]),t._v(" "),s("code",[t._v("choices")])]),t._v(" "),s("p",[t._v("Choices provides a list of options, where the user can pick one or many answers from:")]),t._v(" "),s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("question")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" What fruits do you want to buy\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" choices\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("multiselect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("choices")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" Apples\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" Oranges\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" Lemons\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" Papayas\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" Coconuts\n\n")])])]),s("h3",{attrs:{id:"non-interactive-usage"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#non-interactive-usage"}},[t._v("#")]),t._v(" Non-interactive usage")]),t._v(" "),s("p",[t._v("For non-interactive usage you can pass the values via commandline-options, where the option-name is the same as the key, for the above example:")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("command-line option")]),t._v(" "),s("th",[t._v("Question key")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("--[key]")]),t._v(" "),s("td",[t._v("[key]")])]),t._v(" "),s("tr",[s("td",[t._v("--name")]),t._v(" "),s("td",[t._v("name")])]),t._v(" "),s("tr",[s("td",[t._v("--short-name")]),t._v(" "),s("td",[t._v("shortName")])])])]),t._v(" "),s("p",[t._v("The scaffolder stores the answers in a hidden file called "),s("code",[t._v(".phab-scaffold-tokens")]),t._v(" in the newly created folder and will reuse if the scaffolder runs aagain.")]),t._v(" "),s("h2",{attrs:{id:"the-scaffold-section"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#the-scaffold-section"}},[t._v("#")]),t._v(" The "),s("code",[t._v("scaffold")]),t._v("-section")]),t._v(" "),s("p",[t._v("Phabalicious will provide the following replacement-patterns out of the box:")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Pattern")]),t._v(" "),s("th",[t._v("Value")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("%rootFolder%")]),t._v(" "),s("td",[t._v("The folder the app will be installed into")])]),t._v(" "),s("tr",[s("td",[t._v("%name%")]),t._v(" "),s("td",[t._v("The name of the app")])]),t._v(" "),s("tr",[s("td",[t._v("%projectFolder%")]),t._v(" "),s("td",[t._v("a cleaned version of the app-name, suitable for machine-names.")])]),t._v(" "),s("tr",[s("td",[t._v("%shortName%")]),t._v(" "),s("td",[t._v("The short-name")])]),t._v(" "),s("tr",[s("td",[t._v("%uuid%")]),t._v(" "),s("td",[t._v("a random-uuid")])])])]),t._v(" "),s("h2",{attrs:{id:"the-variables-section"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#the-variables-section"}},[t._v("#")]),t._v(" the "),s("code",[t._v("variables")]),t._v("-section")]),t._v(" "),s("p",[t._v("You can add own variables via the "),s("code",[t._v("variables")]),t._v("-section. In the above example, the variable "),s("code",[t._v("composerProject")]),t._v(" will be available in the "),s("code",[t._v("scaffold")]),t._v("-section via the pattern "),s("code",[t._v("%composerProject%")])]),t._v(" "),s("h2",{attrs:{id:"the-assets-section"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#the-assets-section"}},[t._v("#")]),t._v(" the "),s("code",[t._v("assets")]),t._v("-section")]),t._v(" "),s("p",[t._v("You can have multiple assets-sections, "),s("code",[t._v("assets")]),t._v(" is a default one.  It contains a list if template files which will be processed by twig and placed at a specific location. You'll have all variables available as twig-variables inside the template, to use them, just use "),s("code",[t._v(t._s(t.theNameOfVariable))]),t._v(" e.g. "),s("code",[t._v(t._s(t.name))]),t._v("\nTo add a new asset-section, just use a new root-level key (in the above example this would be "),s("code",[t._v("deploymentModuleAssets")])]),t._v(" "),s("p",[t._v("The assets-paths must be relative to the yaml-file containing the scaffold-commands.")]),t._v(" "),s("h2",{attrs:{id:"list-of-supported-internal-commands"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#list-of-supported-internal-commands"}},[t._v("#")]),t._v(" List of supported internal commands")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("copy_assets")])]),t._v(" "),s("li",[s("code",[t._v("alter_json_file")])]),t._v(" "),s("li",[s("code",[t._v("log_message")])])]),t._v(" "),s("p",[t._v("These are documented "),s("RouterLink",{attrs:{to:"/scaffolder.html"}},[t._v("here")]),t._v(".")],1),t._v(" "),s("h2",{attrs:{id:"inheritance"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#inheritance"}},[t._v("#")]),t._v(" Inheritance")]),t._v(" "),s("p",[t._v("Similar to other parts of Phabalicious, scaffold-files can use inheritance, for example to use the above scaffold-file, but install drupal commerce:")]),t._v(" "),s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("inheritsFrom")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" drupal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("8.yml\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("variables")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("composerProject")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" drupalcommerce/project"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("base\n")])])]),s("p",[t._v("This will inherit all content from the drupal-8.yml-file and merged with this content. This means, the `composerProjectÂ´-variable will be overridden, but everything else will be inherited. This makes it easy to reuse existing scaffold-files")]),t._v(" "),s("h2",{attrs:{id:"examples"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#examples"}},[t._v("#")]),t._v(" Examples")]),t._v(" "),s("h3",{attrs:{id:"drupal-8-d8-yml"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#drupal-8-d8-yml"}},[t._v("#")]),t._v(" Drupal 8 (d8.yml)")]),t._v(" "),s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("variables")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("composerProject")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" drupal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("composer/drupal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("project"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("8.x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("dev\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("webRoot")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" web\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("assets")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" .fabfile.yaml\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" docker"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("compose.yml\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" docker"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("compose"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("mbb.yml\n\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("deployModuleAssets")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" deployModule/%shortName%_deploy.info.yml\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" deployModule/%shortName%_deploy.module\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" deployModule/%shortName%_deploy.install\n\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("sshKeys")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" ssh"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("keys/docker"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("root"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("key\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" ssh"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("keys/docker"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("root"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("key.pub\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" ssh"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("keys/known_hosts\n\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("scaffold")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" rm "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("rf %rootFolder%\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" composer create"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("project %composerProject% %rootFolder% "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("stability dev "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("no"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("interaction\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" cd %rootFolder%; composer require drupal/coffee\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" cd %rootFolder%; composer require drupal/devel\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" copy_assets(%rootFolder%)\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" copy_assets(%rootFolder%/%webRoot%/modules/custom/%shortName%_deploy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" deployModuleAssets)\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" copy_assets(%rootFolder%/ssh"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("keys"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sshKeys)\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" cd %rootFolder%; git init .\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" cd %rootFolder%; git add .\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" cd %rootFolder%; git commit "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v('m "Initial commit by phabalicious"\n')])])]),s("h3",{attrs:{id:"drupal-commerce"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#drupal-commerce"}},[t._v("#")]),t._v(" drupal commerce")]),t._v(" "),s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("inheritsFrom")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" d8.yml\n\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("variables")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("composerProject")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" drupalcommerce/project"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("base\n")])])]),s("h3",{attrs:{id:"thunder"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#thunder"}},[t._v("#")]),t._v(" thunder")]),t._v(" "),s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("inheritsFrom")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" d8.yml\n\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("variables")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("composerProject")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" burdamagazinorg/thunder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("project\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("webRoot")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" docroot\n")])])]),s("h3",{attrs:{id:"laravel"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#laravel"}},[t._v("#")]),t._v(" Laravel")]),t._v(" "),s("h4",{attrs:{id:"the-scaffold-file"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#the-scaffold-file"}},[t._v("#")]),t._v(" the scaffold-file:")]),t._v(" "),s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("variables")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("composerProject")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" laravel/laravel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5.4")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("webRoot")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" public\n\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("assets")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" .fabfile.yaml\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" docker"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("compose.yml\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" docker"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("compose"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("mbb.yml\n\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("scaffold")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" rm "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("rf %rootFolder%\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" composer create"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("project %composerProject% %rootFolder% "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("stability dev "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("no"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("interaction\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" copy_assets(%rootFolder%)\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" cd %rootFolder%; git init .\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" cd %rootFolder%; git add .\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" cd %rootFolder%; git commit "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v('m "Initial commit by phabalicious"\n')])])]),s("h4",{attrs:{id:"the-fabfile-template"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#the-fabfile-template"}},[t._v("#")]),t._v(" the fabfile-template")]),t._v(" "),s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" name "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" shortName "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("deploymentModule")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" shortName "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("_deploy\n\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("requires")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 2.0.0\n\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("needs")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" ssh\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" composer\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" docker\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" git\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" files\n\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("hosts")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("mbb")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("host")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" projectFolder "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(".test\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("user")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" root\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("port")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" 1024 + random(20000) "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" dev\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("rootFolder")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" /var/www/"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" webRoot "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("gitRootFolder")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" /var/www\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("backupFolder")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" /var/www/backups\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("branch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" develop\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("database")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" projectFolder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("replace("),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("'-'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'_'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(") "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("_db\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("user")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" root\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("pass")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" admin\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("host")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" mysql\n")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);